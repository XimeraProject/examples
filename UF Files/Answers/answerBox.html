<!DOCTYPE html><html lang="en"><head> <title>answerBox</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"/> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"/> 
<!-- charset=utf-8,-css,html,htex4ht,xhtml --> 
<meta name="src" content="answerBox.tex"/> 
<meta name="author" content=""/> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"/> 
<meta name="ximera" content="version 0.0.1"/> 
<link href="https://xronos.clas.ufl.edu/public/v1.8.2/stylesheets/base.css" media="screen"/> 
<script type="text/javascript" async="" src="https://xronos.clas.ufl.edu/public/javascripts/standalone.min.js"></script> 
<meta name="dependency" content="2af003e89d13504b2a79d8b6828c8a05fa5c8d75 Answers/answerBox.tex"/></head><body> 
<div class="preamble"><script type="math/tex">\newenvironment {prompt}{}{}
\newcommand {\ungraded }[0]{}
\newcommand {\HyperFirstAtBeginDocument }[0]{\AtBeginDocument }</script><script type="text/javascript"> 
</script> 
</div>
<div class="abstract">
<!--l. 7--><p class="noindent">A description of how the answer box works, and it’s optional arguments.
</p></div>   <div class="maketitle"></div>
<a id="Q1-1-1"></a>
<h4 class="likesubsectionHead"><a id="x1-1000"></a>How the answer box works</h4>
<a id="Q1-1-3"></a>
<h5 class="likesubsubsectionHead"><a id="x1-2000"></a>How to generate/use the answer box.</h5>
<!--l. 15--><p class="noindent">The answer box is the result of the <span class="obeylines-h"><span class="verb">\answer</span></span> command, and is the bread and butter of
the math aspect of Ximera. It has a number of optional arguments (covered below)
and one required arguemnt - the content author’s answer. Thus if you want to
provide an open-answer input for students and the correct answer for that spot is <script type="math/tex">x^2 + 3x + 1</script>
you would type <span class="obeylines-h"><span class="verb">\answer{x^2 + 3x + 1}</span></span>. Note that the answer box must be put in
mathmode. The previous problem would then look like: </p><div class="theorem-like problem-environment explanation" id="problem1"><a id="x1-2001r1"></a>The correct answer is <script type="math/tex">x^2 + 3x + 1</script>:
<script type="math/tex">\answer {x^2 + 3x + 1}</script>.
</div>
<a id="Q1-1-5"></a>
<h5 class="likesubsubsectionHead"><a id="x1-3000"></a>How the answer box validates an answer</h5>
<!--l. 22--><p class="noindent">It uses more than a dozen algorithms to check if the student’s provided answer is
mathematically equivalent to the content author’s provided answer. Most of these are
used as shortcuts to allow faster authentication - for example, if the two answers are
exact string matches it will immediately be marked as correct. But if the validation
fails (returns false) it proceeds to the next validation method. If every validation
method returns false/incorrect, <em>then</em> the answer is marked wrong. If <em>any</em> of
the validators returns “correct”, then the answer is marked correct. So the
multiple validation techniques are more of a sieve than different validation
aspects.
</p><!--l. 24--><p class="noindent">Most noteworthy is that the <em>final</em> validator in this sieve is computationally intensive
(hence we want to try and do ’quick’ checks first) but it is exceptionally powerful. It
uses the identity theorem from complex analysis - which essentially says that, if the
two functions agree on a subset of <script type="math/tex">\mathbb {C}</script> with an accumulation point, then they are the
same function.
</p><!--l. 26--><p class="noindent">In this case, Ximera picks a few hundred points just off the real axis in the complex
plane that mimic a converging sequence in some sense (a sequence whose distance
between points is strictly decreasing), and tests the student given answer and
the author-given answer. If they agree (up to machine precision) on more
than 98% of those points, it declares them equal. The nature of machine
precision requires the 98%, but essentially, if Ximera marks it correct due to
                                                                  

                                                                  
this algorithm, it is <em>exceptionally</em> unlikely that the answer isn’t a correct
answer - especially at the student level we use Ximera (i.e. calc sequence and
below).
<a id="Q1-1-7"></a>
</p>
<h4 class="likesubsectionHead"><a id="x1-4000"></a>Optional Arguments</h4>
<!--l. 33--><p class="noindent">There are also a number of optional arguments/key-values that can be provided to
the <span class="obeylines-h"><span class="verb">\answer</span></span> command, for a variety of effects. Most of these are “key-value” pairs,
meaning that they have the form “key=value”. I outline the key names below and
will give examples of values one might use for the given key.
     </p><dl class="description"><dt class="description">
tolerance: </dt><dd class="description">The Tolerance key-value sets a <script type="math/tex">\pm </script> value on the author’s (numeric)
     answer that will be accepted from a student. For example, the answer box
    <span class="obeylines-h"><span class="verb">\answer[tolerance=0.1]{\pi}</span></span> would accept anything in the range of <script type="math/tex">[\pi -0.1,\pi +0.1]</script> as
     correct. This was primarily intended to be used for graphical applications,
     to allow for “fuzzy answers” on a graph.
     </dd><dt class="description">
validator: </dt><dd class="description">This key-value allows you to load a validator in-line from a prior
     javascript environment. It’s important to note here that <strong>this specific
     validator call</strong> actually uses the Ximera validation system, and not the
     generic javascript/python call. As a result, it is <em>far</em> superior to the validator
     environment, but it also only works from a single answer box, which makes
     it difficult to use for more complex problems.
     <!--l. 41--><p class="noindent">In practice, you would use a javascript environment to define a js function
     that  returns  some  kind  of  true/false  type  value  first.  Once  you  have
     that  ’validateFunc’  function,  you  then  call  it  in  the  answer  box  as
    <span class="obeylines-h"><span class="verb">\answer[validator=validateFunc]{answer-here}</span></span> and the validation of
     the student answer will be entirely decided by the validateFunc you wrote
     earlier - which may or may not use the ’answer-here’ content-author’s
     answer.
     </p></dd><dt class="description">
id: </dt><dd class="description">This is used to set an id for the student’s answer, which can be called by a
     validator or some other code. So something like <span class="obeylines-h"><span class="verb">\answer[id=x]{}</span></span> would
     take whatever the student input into that answer box and assign it as
     the value of the python variable “x”, which could be called in a validator
     environment or some other code somewhere. I haven’t played around with
     this much <em>other</em> than in custom validator environments.
     </dd><dt class="description">
format: </dt><dd class="description">The Format key-value can change what format the answer box expects
     to receive (and thus how to validate). For example, using the command
    <span class="obeylines-h"><span class="verb">\answer[format=string]{test}</span></span> let’s  the  answer  box  know  that  it  is
     evaluating the student answer as a direct string, rather than an equation.
                                                                  

                                                                  
     As  a  result,  it  would  only  accept  the  <em>string</em>  “  test  “.  Without  the
    “format=string” key-value, any permutation of the letters t, e, s, and t
     would be accepted as they would be interpreted as variables - thus “<script type="math/tex">et^2s</script>”
     would have been accepted.
     <!--l. 47--><p class="noindent">Currently, the only value I remember for this key is the “string” value, but
     I know there are others in theory.
     </p></dd><dt class="description">
given: </dt><dd class="description">This is largely ignored now, but this dictates whether the answer for
     the answer box is provided in the corresponding pdf that is generated
     from  the  ximera  file.  This  can  be  used  to  make  a  “teachers  edition”
     version of the notes, rather than a “student” version. For example, the
     command <span class="obeylines-h"><span class="verb">\answer[given=true]{\pi}</span></span> would display <script type="math/tex">\pi </script> in the pdf, whereas
    <span class="obeylines-h"><span class="verb">\answer[given=false]{\pi</span></span> would just show a question mark in the box.
     Note that given=false is the default behavior.
     </dd></dl>
<a id="Q1-1-9"></a>
<h4 class="likesubsectionHead"><a id="x1-5000"></a>Potential Pitfalls and Problems</h4>
<a id="Q1-1-11"></a>
<h5 class="likesubsubsectionHead"><a id="x1-6000"></a>Ximera Errs on the side of the student</h5>
<!--l. 58--><p class="noindent">Generally, answer validation sides with the student. In most cases this philosophy
isn’t relevant, but it is noteworthy here because this means that if the <span class="obeylines-h"><span class="verb">\answer</span></span>
command can’t understand your provided answer, then it will default to mark <em>any</em>
answer from the student correct. In practice, if you find that you have an answer
box that is marking anything/everything correct, this is probably because
there is some kind of typo or character in the answer box that it cannot
understand.
<a id="Q1-1-13"></a>
</p>
<h5 class="likesubsubsectionHead"><a id="x1-7000"></a>Answer Box can be a little too good...</h5>
<!--l. 62--><p class="noindent">Although the validation technique is impressively comprehensive in practice, that can
be problematic when you want the answer in a specific <em>form</em>. For example, if Ximera
will take any function that is mathematically equivalent to the form the author
provided, it becomes very difficult to validate whether or not the student’s answer is,
say, factored. You can often work around this problem with clever question design, or
by writing a custom validator to capture the specific property or aspect that you are
trying to assess (as it is less important to only validate the equality, and more
important to validate the form - often in addition to the equality, of the
answer).
<a id="Q1-1-15"></a>
</p>
                                                                  

                                                                  
<h5 class="likesubsubsectionHead"><a id="x1-8000"></a>Ximera is still running on a computer</h5>
<!--l. 66--><p class="noindent">Also remember that Ximera is still running on a computer, which means it doesn’t
<em>truly</em> understand real numbers. Indeed, it only really understands computable
numbers (which we won’t delve into here) but the short version, is that anything that
is beyond machine-precision can’t really be assessed accurately by a machine. For
example, the following answer box is expecting the answer <script type="math/tex">2x</script>, but try inputting <script type="math/tex">2x+2^{-40}</script> and
see what happens. </p><div class="theorem-like problem-environment explanation" id="problem2"><a id="x1-8001r2"></a><script type="math/tex">\answer {2x}</script>.
</div> Ximera accepts it as correct, even though we obviously know that’s not true. But
that’s because <script type="math/tex">2^{-40}</script> is a number that is too small for machine precision - so to the
computer <em>running</em> Ximera, it is effectively indistinguishable from zero. This is just an
inherent restriction based on the machine running Ximera, rather than Ximera itself -
but it can be important to be aware of, since it can crop up in other ways. For
example, if you have something like <script type="math/tex">e^{-200|x|^{100}}</script>, then almost regardless of what number Ximera
picks in the complex plane, chances are excellent that the result would be too
small for machine precision to detect - meaning that the entire <em>function</em> is
indistinguishable from the constant zero. This can crop up as a result of integrating
or differentiating weird functions that end up having extra terms that it is
important for students to realize exist (e.g. you want to verify they used
the chain rule and not just the base derivative rule) but the “extra part”
doesn’t seem to matter to Ximera - this is typically an issue of machine
precision.
<a id="Q1-1-17"></a>
<h5 class="likesubsubsectionHead"><a id="x1-9000"></a>Answers are exposed via right-click</h5>
<!--l. 74--><p class="noindent">For accessibility reasons (like screen readers and the like) the library that powers the
answer box has a bunch of features bundled in, one of which is the ability to
right-click and get different formatting of its contents. Unfortunately, if you
right-click and go to “show math as” and then “tex commands” you can very easily
see the contents of the answer command that was used in the answer file. This
information isn’t necessary for accessibility (after all, the answer box is suppose to
contain the actual content supplied by the student, and doesn’t have any content the
student needs to know about) but it’s tied to the behavior of the underlying library
that supports <em>all</em> the rendered math on the page, so we can’t remove it without
killing <em>all</em> accessibility.
</p><!--l. 76--><p class="noindent">However, it is easily countered in the specific case of the answer box, which we detail
in the <a href="https://xronos.clas.ufl.edu/examples/exampleCore/supplemental/hiddenAnswers">how to hide answers</a> section of the documentation, for those that are
interested.
 
 

                                                                  

                                                                  
                                                                  


</p></body></html>