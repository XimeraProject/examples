<!DOCTYPE html><html lang="en"><head> <title>Randomizing with Sage</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"/> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"/> 
<!-- charset=utf-8,-css,html,htex4ht,xhtml --> 
<meta name="src" content="randomizingWithSage.tex"/> 
<meta name="author" content=""/> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"/> 
<meta name="ximera" content="version 0.0.1"/> 
<link href="https://xronos.clas.ufl.edu/public/v1.8.2/stylesheets/base.css" media="screen"/> 
<script type="text/javascript" async="" src="https://xronos.clas.ufl.edu/public/javascripts/standalone.min.js"></script> 
<meta name="dependency" content="1bd41ab9248a804ab8188d2bb1a2fdeb328d7e87 advancedContent/sageRandomizing/randomizingWithSage.tex"/></head><body> 
<div class="preamble"><script type="math/tex">\newenvironment {prompt}{}{}
\newcommand {\ungraded }[0]{}
\newcommand {\HyperFirstAtBeginDocument }[0]{\AtBeginDocument }</script><script type="text/javascript"> 
</script> 
</div>
<div class="abstract">
<!--l. 7--><p class="noindent">Common Sage Functions and Details
</p></div>   <div class="maketitle"></div>
<h3 class="likesectionHead"><a id="x1-1000"></a>Details when using Randomized Content with Sage</h3>
<!--l. 12--><p class="noindent">Despite having used sage in some of the previous pages, you might notice that none
of it was actually randomized. Indeed, if you look at the top right corner of this page,
you will see a green “Try Another” button, but in the previous pages, the button
doesn’t appear. This is because the “Try Another” button only appears if there is
sage content that is being randomized.
</p>
<h4 class="likesubsectionHead"><a id="x1-2000"></a>How the ’Try Another’ button works</h4>
<!--l. 15--><p class="noindent">When you use randomized values as part of the sage code, the green “Try Another”
button appears. This button essentially re-rolls all the randomized values
and repopulates the <em>entire</em> page. There is no way to only randomize part of
the page’s randomized code, it always rebuilds the entire page (there are
weird pedagogical reasons to do things this way and this just happens to be
how the Ximera team decided to go - but it does purposefully work this
way).
</p><!--l. 17--><p class="noindent">If you click the “Try Another” button it may (it doesn’t always) pop up a warning
saying that all your work will be deleted and progress will be lost. It is noteworthy
that, Canvas won’t lower grades because the progress is reset on the Xronos page.
However, in order to get full credit, the student needs to have everything
completed <em>at the same time</em>. It is not sufficient to, say, do problems one
through nine, then “Try Another” and then do problem 10 out of 10 to get full
credit - they would have to redo all of one through nine as well to get 100%
completion.
</p><!--l. 19--><p class="noindent">Also, as a deliberate pedagogical choice, all problems given to students use the same
randomized seed - meaning all students get the <em>same</em> randomized problems in the
same order. This is to allow students to work together on content, as well as for a
bunch of technical reasons.
</p>
<h3 class="likesectionHead"><a id="x1-3000"></a>Useful Sage Reference Links</h3>
<!--l. 23--><p class="noindent">There are a couple useful links that have a bunch of built-in esoteric mathematical
functions/ideas for sage. I figured I’d put them here, and add them as I find
them.
</p>
                                                                  

                                                                  
     <ul class="itemize1">
     <li class="itemize"><a href="https://wiki.sagemath.org/quickref?action=AttachFile&amp;do=get&amp;target=quickref-linalg.pdf">Sage Quickref on Linear Algebra</a>
     </li>
     <li class="itemize"><a href="https://wiki.sagemath.org/quickref?action=AttachFile&amp;do=get&amp;target=quickref-nt.pdf">Sage Quickref on Number Theory</a>
     </li>
     <li class="itemize"><a href="https://www.math.uni-potsdam.de/fileadmin/user_upload/An_Introductory_Course_on_Sage.pdf">A comprehensive introductory course on Sage - course notes.</a></li></ul>
<h3 class="likesectionHead"><a id="x1-4000"></a>Common Functions to Use</h3>
<!--l. 33--><p class="noindent">Generally we include the following block at the top of the first sagesilent environment
of a file that intends to use sage: </p><pre>    #####Define default Sage variables.
 <br/>    #Default function variables
 <br/>    var(’x,y,z,X,Y,Z,r,R’)
 <br/>    #Default function names
 <br/>    var(’f,g,h,dx,dy,dz,dh,df’)
 <br/>
 <br/>    def RandInt(a,b):
 <br/>        &#34;&#34;&#34; Returns a random integer in [‘a‘,‘b‘]. Note that ‘a‘ and ‘b‘ should be integers themselves to avoid unexpected behavior.
 <br/>        &#34;&#34;&#34;
 <br/>        return QQ(randint(int(a),int(b)))
 <br/>        # return choice(range(a,b+1))
 <br/>
 <br/>    def NonZeroInt(b,c, avoid = [0]):
 <br/>        &#34;&#34;&#34; Returns a random integer in [‘b‘,‘c‘] which is not in ‘av‘.
 <br/>            If ‘av‘ is not specified, defaults to a non-zero integer.
 <br/>        &#34;&#34;&#34;
 <br/>        while True:
 <br/>            a = RandInt(b,c)
 <br/>            if a not in avoid:
 <br/>                return a
 <br/>    
<!--l. 55--></pre>
<!--l. 57--><p class="noindent">This defines the default (mathematical) variables for sage (more can be added if
needed) and default (mathematical) function names, along with the RandInt and
NonZeroInt functions.
</p>
<h4 class="likesubsectionHead"><a id="x1-5000"></a>RandInt</h4>
<!--l. 60--><p class="noindent">This generates a random integer between a and b (inclusive). So <span class="obeylines-h"><span class="verb">p1c1 = RandInt(-5,5)</span></span>
                                                                  

                                                                  
creates, and defines, the sage variables “p1c1” as a random integer between -5 and 5.
This is as straight forward as it sounds.
</p>
<h4 class="likesubsectionHead"><a id="x1-6000"></a>NonZeroInt</h4>
<!--l. 63--><p class="noindent">NonZeroInt started as a version of RandInt to avoid zero, but even while writing the
initial definition it was obvious that zero may not be the only number you may want
to avoid - and indeed, you may want to avoid more than just one value.
So NonZeroInt(-5,5) gives a non-zero integer between -5 and 5, but you
can add a third (optional) argument which is a list of values to avoid. So
<span class="obeylines-h"><span class="verb">p1c2 = NonZeroInt(-5,5,[-p1c1,0,p1c1])</span></span> would create the sage variable “p1c2”
and assign it a random integer between -5 and 5, but not whatever -p1c1 or p1c1 are,
and not 0 as well. Note that <span class="obeylines-h"><span class="verb">p1c3 = NonZeroInt(-5,5,[p1c1])</span></span> would create the
sage variable p1c3, and assign it a random number between -5 and 5 - except for
p1c1... and importantly, if p1c1 is not zero, then p1c3 <em>could</em> be assigned zero unless
you include it in the list of things to avoid.
</p>
<h4 class="likesubsectionHead"><a id="x1-7000"></a>Example</h4>
<!--l. 66--><p class="noindent">Consider the following problem: </p><script type="text/sagemath">#####Define default Sage variables.
#Default function variables
var('x,y,z,X,Y,Z,r,R')
#Default function names
var('f,g,h,dx,dy,dz,dh,df')

def RandInt(a,b):
    """ Returns a random integer in [`a`,`b`]. Note that `a` and `b` should be integers themselves to avoid unexpected behavior.
    """
    return QQ(randint(int(a),int(b)))
    # return choice(range(a,b+1))

def NonZeroInt(b,c, avoid = [0]):
    """ Returns a random integer in [`b`,`c`] which is not in `av`.
        If `av` is not specified, defaults to a non-zero integer.
    """
    while True:
        a = RandInt(b,c)
                                                                  

                                                                  
        if a not in avoid:
            return a

p1c1 = NonZeroInt(-10,10)
p1c2 = RandInt(-5,5)
p1c3 = RandInt(-5,5)
p1f1 = expand( (p1c1*x-p1c2)*(x-p1c3) )
    </script>
<div role="article" class="problem-environment exercise" id="problem1"><a id="x1-7001r1"></a> Is the following polynomial factorable? <script type="math/tex; mode=display"> \sage {p1f1} </script>  <div class="multiple-choice" id="problem2"><span class="choice correct" id="choice1">Yes</span> <span class="choice " id="choice2">No</span>  </div>
</div>
<!--l. 105--><p class="noindent">The above problem is generated by the code: </p><pre>        \begin{sagesilent}
 <br/>            #####Define default Sage variables.
 <br/>            #Default function variables
 <br/>            var(’x,y,z,X,Y,Z,r,R’)
 <br/>            #Default function names
 <br/>            var(’f,g,h,dx,dy,dz,dh,df’)
 <br/>
 <br/>            def RandInt(a,b):
 <br/>                &#34;&#34;&#34; Returns a random integer in [‘a‘,‘b‘]. Note that ‘a‘ and ‘b‘ should be integers themselves to avoid unexpected behavior.
 <br/>                &#34;&#34;&#34;
 <br/>                return QQ(randint(int(a),int(b)))
 <br/>                # return choice(range(a,b+1))
 <br/>
 <br/>            def NonZeroInt(b,c, avoid = [0]):
 <br/>                &#34;&#34;&#34; Returns a random integer in [‘b‘,‘c‘] which is not in ‘av‘.
 <br/>                    If ‘av‘ is not specified, defaults to a non-zero integer.
 <br/>                &#34;&#34;&#34;
 <br/>                while True:
 <br/>                    a = RandInt(b,c)
 <br/>                    if a not in avoid:
 <br/>                        return a
 <br/>
 <br/>            p1c1 = NonZeroInt(-10,10)
 <br/>            p1c2 = RandInt(-5,5)
 <br/>            p1c3 = RandInt(-5,5)
 <br/>            p1f1 = expand( (p1c1*x-p1c2)*(x-p1c3) )
 <br/>        \end{sagesilent}
                                                                  

                                                                  
 <br/>        \begin{exercise}
 <br/>            Is the following polynomial factorable?
 <br/>            \[
 <br/>                \sage{p1f1}
 <br/>            \]
 <br/>            \begin{multipleChoice}
 <br/>                \choice[correct]{Yes}
 <br/>                \choice{No}
 <br/>            \end{multipleChoice}
 <br/>        \end{exercise}
 <br/>    
<!--l. 144--></pre>
<!--l. 146--><p class="noindent">You can hit the “Try Another” button above and see how the problem randomizes.
 
 

                                                                  

                                                                  
                                                                  


</p></body></html>