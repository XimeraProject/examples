\documentclass{ximera}
\input{../preamble.tex}

\title{Problem Environment}

\begin{document}


\begin{abstract}
A brief demonstration of the problem environment and nesting interactions for problems with multiple parts.
\end{abstract}


\maketitle



%\section*{The problem environment}

    \subsection*{How to Use the Problem Environment}
    
        The most basic part of a Ximera document is the problem environment.  Each individual activity will need to be lead by a \verb| \begin{problem}| and followed by a \verb|\end{problem}|.  This is what will handle the layout of the page and the numbering of each of the individual problems.  It is entirely possible to have text and page content outside of an environment (E.G. this very paragraph), however life will rapidly become strange if there is an answer box outside of this environment.  An example of this would look something like 
        
        \begin{problem}
        An example problem. The answer is, of course, 42.
        
        $\answer{42}$
        
        A bit of text after the answer
        \end{problem}
        
        Which is generated by:
        
        \begin{verbatim}
        \begin{problem}
        An example problem. The answer is, of course, 42.
        
        $\answer{42}$
        
        A bit of text after the answer
        \end{problem}
        \end{verbatim}
        
        Note that the code that generates the problem doesn't actually give it a number.  This is simply the first \verb|\begin{problem}| and so it is called Problem 1.  Each problem environment will cause the page to assign it a number.  This behavior will be continued for the rest of the tile.
    
    \subsection*{Nesting}
    
        Ximera supports nesting problems. In particular, you can nest the problem environment to make subproblems. These subproblems are revealed upon the completion of \textit{all} problems on the current level. This allows you to have problems that must be completed before another (set of) problem(s) are revealed to the student. For a clearer demonstration, look at the example section below.

    \subsection*{Optional Arguments}
    
        The problem environment does not, at the time of this writing, have any optional arguments.
    
    \subsection*{Examples}
    
        \subsubsection*{Example 1}
            First we will look at a problem environment where the nesting has been used to break down each step of the activity.  Each answer will reveal the subsequent step in completing our plea for aid.
            
            \begin{problem}
                In this problem we will spell ``help".
                The first character is $\answer{h}$
                \begin{problem}
                    The second character is $\answer{e}$
                    \begin{problem}
                        The third character is $\answer{l}$    
                        \begin{problem}
                            The final character is $\answer{p}$
                            \begin{problem}
                                And now we can escape from this madness.  
                                \begin{multipleChoice}
                                    \choice[correct]{FREEDOM!}
                                \end{multipleChoice}
                            \end{problem}
                        \end{problem}
                    \end{problem}
                \end{problem}
            \end{problem}
            
            This problem is generated by:
            
            \begin{verbatim}
                \begin{problem}
                In this problem we will spell ``help".
                The first character is $\answer{h}$
                \begin{problem}
                The second character is $\answer{e}$
                \begin{problem}
                The third character is $\answer{l}$    
                \begin{problem}
                The final character is $\answer{p}$
                \begin{problem}
                And now we can escape from this madness.  
                \begin{multipleChoice}
                \choice[correct]{FREEDOM!}
                \end{multipleChoice}
                \end{problem}
                \end{problem}
                \end{problem}
                \end{problem}
                \end{problem}
            \end{verbatim}
            
            We have simply started a new ``problem" before ending the previous one.  This will cause the next problem to be concealed until the correct answer has been put in. 
            Notice how the numbering works for each of the revealed, nested problem environments as we travel through the process.  The overall problem is referred to as 2, while each layer appends a .1 to whatever was before it.  We can contrast this with something like the following.  More information on the ``answer" and ``multipleChoice" calls can be found later in this document.
        
        \subsubsection*{Example 2}
            
            Here we will help Dark Helmet enter the air shield combination so that we can reveal the punchline.
            
            \begin{problem}
                The combination is:
            
                (Enter 1) $\answer{1}$
                (Enter 2) $\answer{2}$
                (Enter 3) $\answer{3}$
                (Enter 4) $\answer{4}$
                (Enter 5) $\answer{5}$
                \begin{problem}
                    Which, as everyone knows, is the kind of password that an idiot would put on his luggage.
                    \begin{multipleChoice}
                        \choice[correct]{....consider changing the password for your luggage....}
                    \end{multipleChoice}
                    \begin{problem}
                        But Numbers are...
                        \begin{multipleChoice}
                            \item[correct]{Super annoying to actually change... Boo.}
                        \end{multipleChoice}
                    \end{problem}
                \end{problem}
                \begin{problem}
                    Comedy gold.
                    \begin{multipleChoice}
                        \choice[correct]{The works of Mel Brooks are timeless.}
                    \end{multipleChoice}
                    \begin{problem}
                        Especially Films Like...
                        \begin{multipleChoice}
                            \item[correct]{Blazing Saddles}
                        \end{multipleChoice}
                    \end{problem}
                \end{problem}
            \end{problem}
            
            The code that generates that problem is:
            
            
            \begin{verbatim}
                \begin{problem}
                    The combination is:
                
                    (Enter 1) $\answer{1}$
                    (Enter 2) $\answer{2}$
                    (Enter 3) $\answer{3}$
                    (Enter 4) $\answer{4}$
                    (Enter 5) $\answer{5}$
                    \begin{problem}
                        Which, as everyone knows, is the kind of password that an idiot would put on his luggage.
                        \begin{multipleChoice}
                            \choice[correct]{....consider changing the password for your luggage....}
                        \end{multipleChoice}
                        \begin{problem}
                            But Numbers are...
                            \begin{multipleChoice}
                                \item[correct]{Super annoying to actually change... Boo.}
                            \end{multipleChoice}
                        \end{problem}
                    \end{problem}
                    \begin{problem}
                        Comedy gold.
                        \begin{multipleChoice}
                            \choice[correct]{The works of Mel Brooks are timeless.}
                        \end{multipleChoice}
                        \begin{problem}
                            Especially Films Like...
                            \begin{multipleChoice}
                                \item[correct]{Blazing Saddles}
                            \end{multipleChoice}
                        \end{problem}
                    \end{problem}
                \end{problem}
            
            \end{verbatim}
            
            Note that we don't get the punchline from the fearsome Dark Helmet until after we have entered the correct answer for each of the prompts on that level. Further, the punchline and this author's commentary on that punchline are both different ``problems".  Each of these subsequent problems could have further nested problems or whole problem sets, but then we might be tempted to return to Problem 2.  In particular, the punchline itself is 3.1 and the commentary is 3.2. 
            
            This automatic numbering for problems can continue \textit{ad nauseam}.  We could go any number of steps deep in this process although it is likely that more than say three or four will cause a revolt among students.  You have been warned.
            
    \subsection*{Best Practices/Advice}
        \subsubsection*{Nesting Problem Usage}
            There are several examples of where nesting problems can be an extremely useful pedagogical tool. For example:
            \begin{itemize}
                \item If you want to escalate the difficulty of a problem type, but don't want to intimidate students who might look ahead and see a dramatically more complex-looking problem statement before they've even begun. You can use nesting to only reveal the more difficult problems once the easier problems are complete - forcing students to work through the problem in front of them without getting anxious from looking ahead.
                \item Some problems can be extremely complex, resulting in a considerable amount of sub-problems/steps that need to be resolved before the student can complete the problem. This can be difficult - especially in an online setting where it can be difficult for some students to navigate these complicated problems without a considerable amount of support. Using nesting you can scaffold out the problem as the sequence of steps/tasks that it is, providing a guided walkthrough for the student to use as a reference for similar problems, which still requiring that they do the steps themselves.
                \item If you want to setup an idea or problem setting before actually proposing the problem statement itself, you can use nested problems to build up the setting before revealing the real underlying problem or idea statement.
            \end{itemize}
        \subsubsection*{Problem Credit}
            Remember that credit allocation is split evenly between the top level environments. This means that, if you have one problem with a single answer box, and then another problem with a bunch of answer boxes, multiple choice options, and/or nested problems within that same single problem, then single (top level) problem will be worth the same amount of page credit as the other top-level problem, but require \textit{considerably} more effort for the student. Thus it is a good idea to keep in mind the number of student-input/answer requirements in each top-level problem environment to keep the effort requirement (at least somewhat) balanced, especially when you are using nested problems.
    
    \subsection{Potential Pitfalls and Problems}
        \subsubsection{Lack of Conditionals}
            Like all content written at the LaTeX level, this cannot currently be randomized.  While you probably don't want to have problems randomly appearing or disappearing at the top level, the catch is that there is no way to make it hinge on a conditional.  For example, it might be desirable for a nested question to show up after a certain number of incorrect responses on the part of the student, but at this time no such functionality exists.


\end{document}
